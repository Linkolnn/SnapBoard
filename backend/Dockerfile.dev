# backend/Dockerfile.dev

FROM node:20-alpine

# Устанавливаем рабочую директорию
WORKDIR /app

# Копируем package files
COPY package*.json ./

# Устанавливаем все зависимости
RUN npm ci

# Копируем исходный код (будет перезаписан volume в dev режиме)
COPY . .

# Создаём директорию для uploads
RUN mkdir -p /app/uploads

# Открываем порт
EXPOSE 3001

# Запускаем в режиме разработки с hot reload
CMD ["npm", "run", "start:dev"]
